<!doctype html>

<html> <!--xmlns:th="https://www.thymeleaf.org">-->


<head>
	<title>Shopping Cart</title>

	<meta name="viewport" content="width=device-width, initial-scale=1"> 

	<link rel="stylesheet" type="text/css" href="/styles/master.css">

	<script type="text/javascript" src="/scripts/master.js" defer></script>
</head>


<body style="background-color:lightblue;">
	
	<h3>Shopping Cart</h3>
	<table cellpadding="2" cellspacing="2" border="1">
		<tr>
			<th>ID</th>
			<th>Lookup Code</th>
			<th>Price</th>
			<th>Quantity</th>
			<th>Total</th>
			<th>Option</th>
		</tr>
		<c:set var="total" value="0"></c:set>
		<c:forEach var="item" items="${sessionScope.cart }">
		<c:set var="total" value="${total + item.product.price * item.quantity }"></c:set>
			<tr>
				<td>${item.product.id}</td>
				<td>${item.product.lookupCode}</td>
				<td>${item.product.price}</td>
				<td>${item.product.quantity}</td>
				<td>${item.product.price * item.product.quantity}</td>
				
				<!-- needs correct path -->
				<td align="center"><a href="${pageContext.request.contextPath }/remove/${item.product.id}">Remove</a></td> 
			</tr>
		</c:forEach>
		<tr>
			<td colspan="5" align="right">Sum</td>
			<td>${total }</td>
	</table>

	<form>
		<!-- needs correct path -->
		<a href="${pageContext.request.contextPath }/cancel">Cancel Transaction</a>
	</form>
	
	<div class="footer">	
		<img id="signOutImage" src="/images/Sign-Out.png" alt="Sign Out" class="footer" />
	</div>
	
</body>

</html>
